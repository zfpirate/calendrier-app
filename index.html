<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Calendrier Devoirs</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <div id="top-bar">
    <div>
      <button id="prev-month-btn">&lt;</button>
      <span id="monthYear"></span>
      <button id="next-month-btn">&gt;</button>
    </div>
    <div>
      <button id="settings-btn">Paramètres</button>
    </div>
  </div>

  <div id="calendar"></div>

  <div id="modal-bg">
    <div class="modal">
      <h2 id="modal-title">Ajouter un devoir</h2>
      <form id="taskForm">
        <input type="text" id="matiere" placeholder="Matière" required>
        <input type="text" id="titre" placeholder="Titre du devoir" required>
        <input type="date" id="date" required>
        <input type="time" id="heure" value="18:00" required>

        <label><input type="checkbox" id="rappel" checked> Rappel</label>
        <div style="margin-top:10px; display:flex; justify-content:space-between;">
          <button type="submit">Enregistrer</button>
          <button type="button" id="cancel-btn">Annuler</button>
          <button type="button" id="delete-btn" style="display:none;">Supprimer</button>
        </div>
      </form>
    </div>
  </div>

  <div id="params-bg" style="display:none;">
    <div id="params">
      <h2>Paramètres</h2>
      <form id="paramsForm">
        <label for="userId">Identifiant</label>
        <input type="text" id="userId" name="userId" placeholder="Ton ID" required />
        <label for="userPass">Mot de passe</label>
        <input type="password" id="userPass" name="userPass" placeholder="Ton mot de passe" required />
        <label for="defaultReminder">Jours avant rappel (0 = même jour)</label>
        <input type="number" id="defaultReminder" name="defaultReminder" min="0" max="7" required />
        <label for="defaultHour">Heure par défaut du rappel</label>
        <input type="time" id="defaultHour" name="defaultHour" value="18:00" required />

        <div class="modal-buttons">
          <button type="submit" class="save-btn">Sauvegarder</button>
          <button type="button" id="params-cancel-btn" class="cancel-btn">Annuler</button>
        </div>
      </form>
    </div>
  </div>

  <div id="dayTasks-bg">
    <div class="day-tasks">
      <h2 id="dayTasks-title">Devoirs</h2>
      <div id="dayTasks-list"></div>
      <button id="dayTasks-add-btn">Ajouter</button>
      <button id="dayTasks-close-btn">Fermer</button>
    </div>
  </div>

  <div id="login-bg">
    <div class="login">
      <h2>Connexion</h2>
      <input type="email" id="loginUser" placeholder="Email Firebase">
      <input type="password" id="loginPass" placeholder="Mot de passe">
      <button id="loginSubmit">Connexion / Créer compte</button>
      <hr style="margin:15px 0; border-color:#444;">
      <button id="loginGoogle" class="save-btn">Se connecter avec Google</button>
    </div>
  </div>

  <!-- Trash -->
  <div id="trash" title="Dépose ici pour supprimer">🗑️</div>
<!-- CryptoJS pour chiffrer/déchiffrer -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>

  <script type="module" src="main.js"></script>

</body>
</html>
